<h5 id="start"></h5>

*前提条件（以下の設定が完了していること）：*<br/>
*1. クラウド/ローカル印刷サービス設定*<br/>
*2. テンプレートのデータソース設定*<br/>

### インターフェースレイアウト
① [基本情報](#basic-information)
② [テンプレート設定](#template-setting)
③ [機能設定](#functional-setting)
④ [印刷設定](#print-setting)
⑤ [コールバック](#callback)
⑥ [VFコード生成](#vf-generate)
⑦ [ボタン生成](#button-generate)
⑧ [Apexクラス生成](#apex-generate)

![アクション設定_属性説明](../_images/jp/アクション設定_属性説明.png)
<br/>
<br/>
<br/>

<h5 id="basic-information">
① 基本情報
</h5>

`アクション名`：現在のアクションの名前を入力して保存と識別ができるようにします。

![アクション設定_基本情報](../_images/jp/アクション設定_基本情報.png)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="template-setting">
② テンプレート設定
</h5>

`テンプレート選択`：必要に応じて複数のテンプレートを選択および設定します。テンプレートは、設定された順序（テンプレート1→テンプレート2→テンプレート3→テンプレート4→テンプレート5）に従って印刷時に順番に表示されます。例えば、テンプレート1には[表紙]テンプレート、テンプレート2には[注文]テンプレート、テンプレート3には[出荷情報]テンプレートを選択します。<br/>
`テンプレート概要`：各テンプレートのデータソース、用紙の向き、用紙の種類の情報を表示し、テンプレートの設定状況を迅速に把握できるようにします。<br/>
`データソースの主オブジェクト`：テンプレート1～5のデータを読み取る主オブジェクトを指定します。例：「注文」。これにより、テンプレートが主オブジェクトに関連するデータを正しく表示できるようになります。

![アクション設定_テンプレート設定](../_images/jp/アクション設定_テンプレート設定.png)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="functional-setting">
③ 機能設定
</h5>

`ボタンタイプ`：ボタンの表示位置を選択します。リストまたは詳細ページに表示されます。<br/>
`リストビューを印刷`：`ボタンタイプ`でリストボタンを選択した場合、このプロパティが表示されます。この機能を有効にすると、選択したレコードフィールドおよび対応する値を表形式で簡単に印刷できます。チェックすると、プレビュー印刷の効果は以下の画像のようになります。<br/>
![アクション設定_機能設定_リスト印刷ビュー](../_images/jp/アクション設定_機能設定_リスト印刷ビュー.gif)

`PDF名動的設定`：チェックすると、データソース主オブジェクトのフィールド名に基づいてPDFファイル名を動的に設定できます。チェックしない場合はデフォルト名が使用されます。<br/>
`PDF名`：データソース主オブジェクトのフィールド名を入力します。単一フィールドのみ対応しています。例：「Name」、PDF名はそのフィールドの値と同じになります。効果は以下の画像のようになります。<br/>
![アクション設定_機能設定_PDF名の動的設定](../_images/jp/アクション設定_機能設定_PDF名の動的設定.gif)

`ダウンロードまたは印刷時に保存`：チェックすると、生成されたPDFファイルがSalesforceのContentFile（コンテンツファイル）に自動的に保存され、後で管理および検索が容易になります。<br/>
`プレビュー内容を表示`：チェックすると、ダウンロード/印刷前にプレビュー画面が表示され、ユーザーはPDFファイルのレイアウトと内容を事前に確認できます。<br/>
`使用する機能`：`プレビュー画面を表示`がチェックされている場合、複数の機能を選択できます。プレビューを行わない場合、1つの機能のみ選択可能です。<br/>

`プレビュー画面の表示をオンにする`：
![Action設定_機能設定_プレビュースクリーンの表示_チェック](../_images/jp/Action設定_機能設定_プレビュースクリーンの表示_チェック.gif)

`プレビュー画面の表示をオフにする`：
![Action設定_機能設定_プレビュースクリーンの表示_チェックなし](../_images/jp/Action設定_機能設定_プレビュースクリーンの表示_チェックなし.gif)

`ZIPファイル名`：一括ダウンロード時にカスタマイズされた圧縮ファイル名。不記入の場合はデフォルトになります。<br/>
`Apexクラス名`：クラス名を入力し、システムがApexコードを生成します。これは、上級ユーザー向けの[上級開発応用](sc-customDevelop.md)をサポートします。<br/>

![アクション設定_機能設定](../_images/jp/アクション設定_機能設定.png)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="print-setting">
④ 印刷設定
</h5>

`印刷サービス設定`：接続する[クラウド印刷サービス](sc-cloudPrint.md#start)または[ローカル印刷サービス](sc-localPrint.md#start)の名前を入力します。これにより、システムに統合された特定の印刷サービスを指定できます。<br/>
`クライアントID`：`印刷サービス設定`で選択した印刷サービスに対応するクライアントIDを入力します。クライアントIDは、印刷サービス内の特定のプリンターまたは印刷キューを一意に識別するために使用されます。<br/>

<mark>**注意**</mark>：印刷機能が正常に動作するように、印刷サービスとクライアントIDが正しく設定されていることを確認してください。
![アクション設定_印刷設定](../_images/jp/アクション設定_印刷設定.png)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="callback">
⑤ コールバック
</h5>
テンプレートのデータソース主オブジェクトのブール型フィールドを1つ入力します。印刷操作が正常に完了すると、そのフィールドの値が自動的にTrueに設定され、印刷状態が記録されます。

![アクション設定_コールバック操作](../_images/jp/アクション設定_コールバック操作.png)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="vf-generate">
⑥ VFコード生成
</h5>
①から⑤までのアクション設定を完了した後、保存ボタンをクリックすると、システムは⑥の領域に新しいVisualforce Page（VF）ファイルを自動生成します。このファイルには、設定した機能に基づく必要なVFコードが含まれており、Salesforceアプリケーションに簡単に統合できます。

![アクション設定_VFPageコード生成](../_images/jp/アクション設定_VFPageコード生成.gif)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="button-generate">
⑦ ボタン生成
</h5>

このセクションでは、ボタン追加の詳細なガイドを提供します。提供された手順に従って、Salesforceオブジェクトにカスタムボタンを追加し、そのボタンを⑥で生成されたVisualforce Pageファイルに関連付けることができます。これにより、ユーザーがそのボタンをクリックすると、アクション設定で指定した機能がトリガーされ実行されます。

![アクション設定_ボタン生成](../_images/jp/アクション設定_ボタン生成.gif)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>

<h5 id="apex-generate">
⑧ Apexクラス生成
</h5>

Apexクラス生成機能は、上級開発ニーズをサポートするために設計されており、開発者がテンプレートデータソースを定義するための[カスタムApexクラス](sc-customDevelop.md)を生成できるようにします。この機能により、開発者は自分のビジネスニーズに応じて特定のデータソースプロパティ（例：dataSource、dataSourcePlus、zipDataSource）を設定することで、アクション設定の機能をカスタマイズおよび拡張できます。

> dataSource：このプロパティを設定すると、テンプレートは指定されたデータソースから直接データを読み取ります。<br/>
> dataSourcePlus：このプロパティを有効にして値を設定すると、テンプレートはdataSourcePlus内のフィールド値をデータソースに追加し、データソースの内容を拡張します。<br/>
> zipDataSource：圧縮パッケージをダウンロードする必要がある場合、このプロパティを設定すると、テンプレートは指定されたzipDataSourceからデータを読み取り、圧縮パッケージに関連データソース情報を含めることができます。<br/>

![アクション設定_Apexクラス生成](../_images/jp/アクション設定_Apexクラス生成.gif)

[↑ トップへ戻る](#start)
<br/>
<br/>
<br/>